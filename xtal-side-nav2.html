<script type=importmap>
    {
        "imports": {
            "trans-render/": "../node_modules/trans-render/",
            "xtal-element/": "../node_modules/xtal-element/",
            "be-decorated/": "../be-decorated/",
            "be-definitive/": "../be-definitive/",
            "be-exportable/": "../node_modules/be-exportable/",
            "be-having/": "../be-having/",
            "be-hive/":  "../node_modules/be-hive/",
            "be-observant/": "../node_modules/be-observant/",
            "be-syndicating/": "../node_modules/be-syndicating/",
            "xtal-side-nav/": "../"
        }
    }
</script>
<xtal-side-nav>
    <template shadowroot="open">
        <script nomodule type=module be-having>
            export const make = () => import('xtal-side-nav/make.js')
            export const definitive = {
                impl: [() => import('be-definitive/be-definitive.js'), () => 'https://esm.run/be-definitive@0.0.80']
            }
        </script>
        
<main part=main>
    <button disabled aria-label="Open Menu" part=opener class=opener>&#9776; <slot name=title></slot></button>
    <aside part=side-nav class=side-nav>
        <button aria-label="Close Menu" part=close-btn>&times;</button>
        <section part=menu-section class=menu-section>
            <slot id="slot"></slot>
        </section>
    </aside>
</main>

<style adopt>
:host {
    display: inherit;
    --drawer-width:250px;
    --side-nav-position:fixed;
    --close-button-left: 50px;
}

main {
    position: relative;
    display: inherit;
}

.menu-section{
    display: flex;
    flex-direction: column;
    width: calc(100% - var(--close-button-left));
}

.side-nav {
    width: 0;
    position: var(--side-nav-position);
    display:flex;
    flex-direction:column;
    z-index: 10;
    top: inherit;
    left: inherit;
    background-color: #111;
    overflow-x: hidden;
    transition: 0.5s;
}
.side-nav[data-mode="ltr"]{
    left: 8px;
}
.side-nav[data-mode="rtl"]{
    right: 8px;
}
/*
TODO:  use FLIP?
*/
.side-nav[data-open]{
    width: var(--drawer-width);
}

.side-nav:not([data-open]){
    width: 0px;
    height:0px;
}

.side-nav button {
    position: absolute;
    cursor:pointer;
    top: 0;
    right: 0px;
    margin-left: var(--close-button-left);
    transition: 0.3s;
}
.opener{
    /* font-size:30px; */
    cursor:pointer
}


@media screen and (max-height: 450px) {
    .side-nav {
        padding-top: 15px;
    }
} 
</style>
    <be-hive></be-hive>
    </template>
</xtal-side-nav>

<script type=module>
    if(customElements.get('be-having') === undefined){
        import('be-having/be-having.js').catch(err => {
            import('https://esm.run/be-having@0.0.2');
        });
    }
</script>

